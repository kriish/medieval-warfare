<doctype html />
<html>
<head>
<script type="text/javascript">
<!--

function drawArrow(context) {
context.beginPath();
context.moveTo(0, 40);
context.lineTo(240, 40);
context.moveTo(260, 40);
context.lineTo(500, 40);
context.moveTo(495, 35);
context.lineTo(500, 40);
context.lineTo(495, 45);   
context.strokeStyle = "#000";
context.stroke();
}

function drawGrid(context) {
  for (var x = 0.5; x < 500; x += 10) {
    context.moveTo(x, 0);
    context.lineTo(x, 375);
  }
 
  for (var y = 0.5; y < 375; y += 10) {
    context.moveTo(0, y);
    context.lineTo(500, y);
  }    
  
  context.strokeStyle = "#eee";
  context.stroke();
}
 
function draw() {
  var map_canvas = document.getElementById("map");
  var b_context = map.getContext("2d");
  b_context.fillRect(50, 25, 150, 100);
  drawGrid(b_context);
  drawArrow(b_context);
}

function showPopup(name){
  document.myform.stage.value = name
}
function showTutorial(name){
  document.myform.stage.value = name
}

function setBackgroundImage(context) {
//    var sun = document.getElementById("sun");
    // or
    var sun = new Image();
   sun.src = "img/weather.jpg";

  context.drawImage(sun, 0, 0);
}

window.onload = function() {
  var canvas = document.getElementById("map");
  var context = canvas.getContext("2d");
  setBackgroundImage(context);
}
//-->
</script>

</head>
<body>
<!-- change to canvas -->
<canvas id="map" width="500" height="500" style="border:1px dotted;float:left"  onclick="draw();return false"></canvas>

<!--http://www.tutorialspoint.com/javascript/javascript_image_map.htm-->
<form name="myform">
   <input type="text" name="stage" size="20" />
</form>

</body>
</html>